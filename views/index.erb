<!DOCTYPE html>
<html>

  <head> 
    <meta charset="UTF-8">
    <title>My Yahoo HTML Source -> OPML Generator</title>

    <script type="text/javascript">
/* <![CDATA[ */
    var demoText = 'ajax failed, see /demo_content.txt';
    if (window.XMLHttpRequest) {
      xmlhttp=new XMLHttpRequest();
      xmlhttp.open("GET", "/demo_content.txt", false);
      xmlhttp.send();
      demoText=xmlhttp.responseText;
    }

    function DemoContent() {
      document.forms['genform'].elements['post[title]'].value = 'demo import';
      document.forms['genform'].elements['post[htmlsrc]'].value = demoText;
    }
/* ]]> */
    </script>

    <script type="text/javascript">
/* <![CDATA[ */
    (function() {
        var s = document.createElement('script')
        var t = document.getElementsByTagName('script')[0];
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto&button=compact';
        t.parentNode.insertBefore(s, t);
    })();
/* ]]> */
    </script>

</head>

<body>
  <h2><a href="/">My Yahoo HTML Source -> OPML Generator</a></h2>

  <form name="genform" action="/" method="post">
    Import Label: 
    <input type="text" name="post[title]" maxlength="<%= $max_title_len %>"/>
    (optional)
    <br /><br />Paste My Yahoo HTML Source Below: 
    (<a href="javascript:DemoContent()">demo content</a>)<br />
    <textarea name="post[htmlsrc]" rows="20" cols="80"></textarea><br />
    <input type="radio" name="post[view_type]" value="view" checked/>
      View OPML Source
    <input type="radio" name="post[view_type]" value="download"/>
      Download OPML File 
    <br /> <input type="submit" value="Generate" />
  </form>
  <br /><hr />
  <p>
    <a class="FlattrButton" style="display:none;"
        title="My Yahoo Source to OPML Generator"
        data-flattr-uid="463597"
        data-flattr-tags="rss, opml, opensource"
        data-flattr-category="software"
        href="http://gen-opml.ekingery.com/">Pass the Hat</a>
  <br /><br />
  <a href=
    "https://github.com/ekingery/My-Yahoo-Source-to-OPML-Generator#readme">
    About
  </a>
  </p>

</body>
</html>
